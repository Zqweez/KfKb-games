const aI = b;
(function (ae, af) {
    const aB = b, ag = ae();
    while (!![]) {
        try {
            const ah = parseInt(aB(0x1fa)) / 0x1 + -parseInt(aB(0x1f0)) / 0x2 + -parseInt(aB(0x1f6)) / 0x3 * (-parseInt(aB(0x225)) / 0x4) + -parseInt(aB(0x1ce)) / 0x5 * (parseInt(aB(0x21b)) / 0x6) + parseInt(aB(0x1d5)) / 0x7 + -parseInt(aB(0x1c0)) / 0x8 * (-parseInt(aB(0x1f1)) / 0x9) + parseInt(aB(0x204)) / 0xa * (-parseInt(aB(0x20e)) / 0xb);
            if (ah === af)
                break;
            else
                ag['push'](ag['shift']());
        } catch (ai) {
            ag['push'](ag['shift']());
        }
    }
}(a, 0x80abd));
function E() {
    const aC = b, ae = window[aC(0x1de)], af = window['innerWidth'], ag = Math[aC(0x22a)](window['devicePixelRatio']);
    let ah = af / 0x2, ai = ah * 0x2, aj = 0.35;
    ah > af * aj && (ah = af * aj, ai = ah * 0x2);
    let ak = 0.75;
    ai > ae * ak && (ai = ae * ak, ah = ai / 0x2);
    K[aC(0x1cb)] = ah * ag, K['height'] = ai * ag, K[aC(0x21f)][aC(0x1cb)] = ah + 'px', K[aC(0x21f)][aC(0x1c7)] = ai + 'px';
    const al = K[aC(0x1cb)] / Z, am = K['height'] / a0;
    M[aC(0x1cb)] = 0x4 * al, M[aC(0x1c7)] = 11.5 * am, M[aC(0x21f)][aC(0x1cb)] = 0x4 * ah / Z + 'px', M[aC(0x21f)][aC(0x1c7)] = 11.5 * ai / a0 + 'px', a4();
}
function F() {
    const aD = b;
    W[aD(0x21f)][aD(0x20d)] = aD(0x223), X[aD(0x1f5)] = 'Spela', S[aD(0x21f)]['display'] = aD(0x223), V[aD(0x21f)][aD(0x20d)] = aD(0x223), a1[aD(0x202)] == 0x3 && (a1 = new ad()), a1[aD(0x202)] = 0x1;
}
function a() {
    const bf = [
        'stringify',
        'lineTo',
        'floor',
        'ceil',
        'value',
        'beginPath',
        '.controller',
        '#leader-board\x20tbody',
        'rgb(170,\x20200,\x20160)',
        'addEventListener',
        'Fortsätt',
        'length',
        'appendChild',
        'warn',
        '1638624HcCdkX',
        'No\x20data\x20submitted',
        'left',
        'information_texts',
        'color',
        'Network\x20response\x20was\x20not\x20ok',
        'resize',
        'height',
        'sort',
        'realName-input',
        'rgb(180,180,180)',
        'width',
        'maxHeight',
        'json',
        '130ddxHYq',
        'rgba(30,30,30,0.8)',
        'start_button_text',
        'rgb(130,\x20170,\x20120)',
        'abs',
        'createElement',
        'max',
        '5708934wSbMmg',
        'POST',
        'error',
        'rgb(220,\x20220,\x20220)',
        'onload',
        'application/json',
        'touchstart',
        'submit-score-container',
        'level_text',
        'innerHeight',
        'fillRect',
        'flex',
        'rotate',
        'ArrowRight',
        'remove',
        'classList',
        'querySelectorAll',
        'gameOver_text',
        'toString',
        'keydown',
        'right',
        'querySelector',
        'block',
        'down',
        'clearedRows_text',
        'https://webmasteriet.vercel.app/add-player',
        'ArrowDown',
        '1643474xKvioH',
        '45fNHTuF',
        'Game\x20Over',
        'start_button',
        'push',
        'innerText',
        '2730879PHRcvJ',
        'innerHTML',
        'code',
        'hash',
        '961423afZPxv',
        'fillStyle',
        'submit',
        'random',
        'getElementById',
        'shift',
        'canvas',
        'Sent\x20data',
        'state',
        'undefined',
        '18708020uAfgsl',
        'forEach',
        'textContent',
        'preventDefault',
        'getContext',
        'charCodeAt',
        'stroke',
        'type',
        'min',
        'display',
        '11lOhZVs',
        'rotation',
        'animationend',
        'add',
        'Space',
        'map',
        'Loaded\x20KfKblock',
        'fit-content',
        'splice',
        'rgb(70,\x20140,\x2070)',
        'https://webmasteriet.vercel.app/players',
        'There\x20was\x20a\x20problem\x20with\x20the\x20fetch\x20operation:',
        'pressed',
        '113502BaxyVg',
        'Starta\x20spelet\x20först',
        'score_text',
        'Sluta\x20fuska!\x20Stoppar\x20spel...',
        'style',
        'API\x20res:',
        'grid',
        'log',
        'none',
        'rgb(130,\x20130,\x20130)',
        '4NDTjob',
        'shape'
    ];
    a = function () {
        return bf;
    };
    return a();
}
function G() {
    const aE = b;
    a1[aE(0x202)] == 0x1 && (X['innerText'] = aE(0x231), W[aE(0x21f)][aE(0x20d)] = aE(0x1eb), a1[aE(0x202)] = 0x2);
}
function H() {
    const aF = b;
    G(), T['style'][aF(0x20d)] == aF(0x223) ? T[aF(0x21f)][aF(0x20d)] = aF(0x1e0) : T[aF(0x21f)][aF(0x20d)] = aF(0x223);
}
function I() {
    const aG = b;
    X[aG(0x1f5)] = 'Spela\x20igen', console['log'](aG(0x1f2)), S[aG(0x21f)][aG(0x20d)] = aG(0x1eb), V['style'][aG(0x1cc)] = 0x0 + 'px', V[aG(0x21f)][aG(0x20d)] = 'flex', V['style'][aG(0x1cc)] = aG(0x215);
}
function J(ae, af) {
    const aH = b;
    if (a1[aH(0x202)] != 0x1) {
        console[aH(0x222)](aH(0x21c));
        return;
    }
    if (ae == 'rotate')
        a1['c']();
    else {
        if (ae == 'bottom')
            a1['d']();
        else {
            if (ae == aH(0x1ec))
                a1['e'](0x1), a1['f']();
            else {
                if (ae == aH(0x1c2))
                    a1['g'](-0x1);
                else
                    ae == aH(0x1e9) && a1['g'](0x1);
            }
        }
    }
}
const K = document[aI(0x1fe)](aI(0x200)), L = K[aI(0x208)]('2d'), M = document['getElementById']('nextBlock_canvas'), N = M[aI(0x208)]('2d'), O = document[aI(0x1fe)](aI(0x21d)), P = document[aI(0x1fe)]('score-submit-score'), Q = document[aI(0x1fe)](aI(0x1ed)), R = document[aI(0x1fe)](aI(0x1dd)), S = document[aI(0x1fe)](aI(0x1e6)), T = document[aI(0x1fe)](aI(0x1c3)), U = document['getElementById']('leader-board'), V = document[aI(0x1fe)](aI(0x1dc));
var W = document[aI(0x1fe)](aI(0x1f3)), X = document[aI(0x1fe)](aI(0x1d0)), Y, Z = 0xa, a0 = 0x14, a1, a2 = [];
window[aI(0x1d9)] = async function () {
    const aJ = aI;
    console[aJ(0x222)](aJ(0x214)), document[aJ(0x1e5)](aJ(0x22d))[aJ(0x205)](ae => {
        const aK = aJ;
        ae['addEventListener'](aK(0x1db), () => {
            const aL = aK;
            ae[aL(0x1e4)][aL(0x211)](aL(0x21a));
        }), ae[aK(0x230)](aK(0x210), () => {
            const aM = aK;
            ae[aM(0x1e4)][aM(0x1e3)]('pressed');
        });
    }), playerDetailForm['addEventListener'](aJ(0x1fc), ae => {
        const aN = aJ;
        ae[aN(0x207)](), a5();
    }), E(), window['addEventListener'](aJ(0x1c6), E), a1 = new ad(), a6(), document['addEventListener'](aJ(0x1e8), ae => {
        const aO = aJ;
        if (a1[aO(0x202)] != 0x1) {
            console['log'](aO(0x21c));
            return;
        }
        if (ae[aO(0x1f8)] == 'ArrowLeft')
            a1['g'](-0x1);
        else {
            if (ae['code'] == aO(0x1e2))
                a1['g'](0x1);
            else {
                if (ae['code'] == 'ArrowUp')
                    a1['c'](), ae['preventDefault']();
                else {
                    if (ae[aO(0x1f8)] == aO(0x1ef))
                        a1['f'](), a1['e'](0x1), ae[aO(0x207)]();
                    else
                        ae['code'] == aO(0x212) && (a1['d'](), ae[aO(0x207)]());
                }
            }
        }
    }), Y = setInterval(a3, 0x3e8 / 0x3c);
};
function a3() {
    const aP = aI;
    a4();
    if (a1[aP(0x202)] == 0x1)
        a1['h'] <= 0x0 && (a1['f'](), a1['h'] = ab[Math[aP(0x20c)](a1['i'], ab['length'] - 0x1)]), a1['h']--, a1['j']();
    else {
        if (a1[aP(0x202)] == 0x0)
            return;
        else {
            if (a1[aP(0x202)] == 0x2) {
            } else
                a1[aP(0x202)] == 0x3 && (W[aP(0x21f)]['display'] = aP(0x1eb), a1['state'] == 0x0);
        }
    }
}
function a4() {
    const aQ = aI;
    L[aQ(0x1fb)] = aQ(0x1d8), L[aQ(0x1df)](0x0, 0x0, K[aQ(0x1cb)], K['height']), N['fillStyle'] = aQ(0x1d8), N[aQ(0x1df)](0x0, 0x0, M[aQ(0x1cb)], M['height']);
    const ae = K['width'] / Z, af = K[aQ(0x1c7)] / a0;
    L[aQ(0x1fb)] = aQ(0x1ca);
    for (let ag = 0x0; ag < Z; ag++) {
        L[aQ(0x22c)](), L[aQ(0x228)](ag * ae, 0x0), L[aQ(0x228)](ag * ae, K['height']), L[aQ(0x20a)]();
    }
    for (let ah = 0x0; ah < a0; ah++) {
        L['beginPath'](), L['lineTo'](0x0, ah * af), L[aQ(0x228)](K[aQ(0x1cb)], ah * af), L['stroke']();
    }
    if (typeof a1 != aQ(0x203)) {
        for (let an = 0x0; an < a1[aQ(0x221)][aQ(0x1bd)]; an++) {
            const ao = a1[aQ(0x221)][an];
            for (let ap = 0x0; ap < ao[aQ(0x1bd)]; ap++) {
                const aq = ao[ap];
                aq != null && (L[aQ(0x1fb)] = aa[aq], L[aQ(0x1df)](ap * ae + 0x1, an * af + 0x1, ae - 0x2, af - 0x2));
            }
        }
        let ai = ae / 5.5, aj = a1['k'];
        if (aj != null) {
            L[aQ(0x1fb)] = aj[aQ(0x1c4)], aj['l']()[aQ(0x205)](at => {
                let au = aj['x'] + at[0x0], av = aj['y'] + at[0x1];
                L['fillRect'](au * ae, av * af, ae, af);
            }), L[aQ(0x1fb)] = aQ(0x1cf), aj['m']()['forEach'](at => {
                const aR = aQ;
                L[aR(0x1df)](at[0x0] * ae + ai, at[0x1] * af + ai, ae - ai * 0x2, af - ai * 0x2);
            });
            let ar = aj['y'], as = -0x1;
            while (!a1['n']()) {
                aj['y']++, as++;
            }
            aj['y'] = ar, L[aQ(0x1fb)] = aj[aQ(0x1c4)], aj['m']()['forEach'](at => {
                L['fillRect'](at[0x0] * ae + ai, (as + at[0x1]) * af + ai, ae - ai * 0x2, af - ai * 0x2);
            });
        }
        let ak = 0x0, al = a1['o'], am = 1.25;
        al['forEach'](at => {
            const aS = aQ;
            let au = at['l']()[aS(0x213)](ay => ay[0x0]), av = Math['abs'](Math['min'](...au)) + Math[aS(0x1d4)](...au) + 0x1, aw = at['l']()['map'](ay => ay[0x1]), ax = Math[aS(0x1d2)](Math['min'](...aw)) + Math['max'](...aw) + 0x1;
            at['l']()[aS(0x205)](ay => {
                const aT = aS;
                let az = ay[0x0] + 0x1 + (0x4 - av) / 0x2, aA = ay[0x1] + am;
                ax == 0x1 && (aA = aA - 0.5), N[aT(0x1fb)] = at['color'], N[aT(0x1df)](az * ae, aA * af, ae, af), N[aT(0x1fb)] = aT(0x1cf), N[aT(0x1df)](az * ae + ai, aA * af + ai, ae - ai * 0x2, af - ai * 0x2);
            }), am = am + 2.25;
        }), O[aQ(0x1f5)] = a1['p'], P[aQ(0x1f7)] = a1['p'], Q[aQ(0x1f5)] = a1['q'], R['innerText'] = a1['i'];
    }
}
function b(c, d) {
    const e = a();
    return b = function (f, g) {
        f = f - 0x1bd;
        let h = e[f];
        return h;
    }, b(c, d);
}
async function a5() {
    const aU = aI;
    try {
        V[aU(0x21f)]['display'] = aU(0x223);
        const ae = document[aU(0x1fe)]('playerID-input')['value'], af = document['getElementById'](aU(0x1c9))[aU(0x22b)], ag = {
                'r': ae,
                's': af,
                't': a1['p']
            };
        console[aU(0x222)](aU(0x201), ag), a2[aU(0x1f4)]({
            'r': ae,
            't': a1['p']
        }), a8();
        const ah = await fetch(aU(0x1ee), {
            'method': aU(0x1d6),
            'headers': { 'u': aU(0x1da) },
            'body': JSON[aU(0x227)](ag)
        });
        if (!ah['ok'])
            throw new Error(aU(0x1c5));
        const ai = await ah[aU(0x1cd)]();
        console[aU(0x222)](aU(0x220), ai);
    } catch (aj) {
        console[aU(0x1d7)](aU(0x219), aj);
    }
}
async function a6() {
    const aV = aI;
    try {
        const ae = await fetch(aV(0x218), { 'method': 'GET' });
        if (!ae['ok'])
            throw new Error(aV(0x1c5));
        const af = await ae[aV(0x1cd)]();
        console[aV(0x222)](aV(0x220), af), a2 = af, a8();
    } catch (ag) {
        console['error'](aV(0x219), ag);
    }
}
function a7() {
    const aW = aI;
    console[aW(0x222)](aW(0x1c1)), V[aW(0x21f)][aW(0x20d)] = 'none';
}
function a8() {
    const aX = aI, ae = document[aX(0x1ea)](aX(0x22e));
    ae[aX(0x1f7)] = '', a2[aX(0x1c8)]((af, ag) => {
        return ag['t'] - af['t'];
    });
    for (let af = 0x0; af < a2[aX(0x1bd)]; af++) {
        const player = a2[af];

        // Create a new row
        const row = document.createElement('tr');

        // Create and append the Ranking cell
        const rankCell = document.createElement('td');
        rankCell.textContent = (af+1).toString();
        row.appendChild(rankCell);

        // Create and append the playerID cell
        const playerIdCell = document.createElement('td');
        playerIdCell.textContent = player.playerID;
        row.appendChild(playerIdCell);

        // Create and append the Score cell
        const scoreCell = document.createElement('td');
        scoreCell.textContent = player.Score;
        row.appendChild(scoreCell);

        // Append the row to the table body
        ae.appendChild(row);
    }
    
}
const a9 = [
        [[
                [
                    -0x1,
                    -0x1
                ],
                [
                    0x0,
                    -0x1
                ],
                [
                    -0x1,
                    0x0
                ],
                [
                    0x0,
                    0x0
                ]
            ]],
        [[
                [
                    -0x1,
                    -0x1
                ],
                [
                    0x0,
                    -0x1
                ],
                [
                    0x0,
                    0x0
                ],
                [
                    0x1,
                    0x0
                ]
            ]],
        [[
                [
                    -0x1,
                    0x0
                ],
                [
                    0x0,
                    0x0
                ],
                [
                    0x0,
                    -0x1
                ],
                [
                    0x1,
                    -0x1
                ]
            ]],
        [[
                [
                    -0x1,
                    0x0
                ],
                [
                    0x0,
                    0x0
                ],
                [
                    0x1,
                    0x0
                ],
                [
                    0x0,
                    -0x1
                ]
            ]],
        [[
                [
                    -0x1,
                    0x0
                ],
                [
                    0x0,
                    0x0
                ],
                [
                    0x1,
                    0x0
                ],
                [
                    0x2,
                    0x0
                ]
            ]],
        [[
                [
                    -0x1,
                    0x0
                ],
                [
                    0x0,
                    0x0
                ],
                [
                    0x1,
                    0x0
                ],
                [
                    0x1,
                    -0x1
                ]
            ]],
        [[
                [
                    -0x1,
                    0x0
                ],
                [
                    0x0,
                    0x0
                ],
                [
                    0x1,
                    0x0
                ],
                [
                    -0x1,
                    -0x1
                ]
            ]]
    ], aa = [
        aI(0x217),
        aI(0x22f),
        aI(0x1d1),
        'rgb(70,\x20140,\x2070)',
        aI(0x217),
        'rgb(20,\x2020,\x2020)',
        aI(0x224)
    ], ab = [
        0x30,
        0x2b,
        0x26,
        0x21,
        0x1c,
        0x17,
        0x12,
        0xd,
        0x8,
        0x6,
        0x5
    ];
class ac {
    constructor(ae, af, ag) {
        const aY = aI;
        this['x'] = ae, this['y'] = af, this[aY(0x20b)] = ag, this['shape'] = a9[ag][0x0], this[aY(0x1c4)] = aa[ag], this[aY(0x20f)] = 0x0;
    }
    ['l']() {
        return this['shape'];
    }
    ['m']() {
        const aZ = aI;
        return this[aZ(0x226)]['map'](ae => [
            ae[0x0] + this['x'],
            ae[0x1] + this['y']
        ]);
    }
    [aI(0x1e1)]() {
        const b0 = aI;
        let ae = [];
        this[b0(0x226)]['forEach'](af => {
            const b1 = b0;
            if (this[b1(0x20b)] == 0x4)
                ae[b1(0x1f4)]([
                    -af[0x1] + 0x1,
                    af[0x0]
                ]);
            else
                this[b1(0x20b)] == 0x0 ? ae[b1(0x1f4)]([
                    -af[0x1] - 0x1,
                    af[0x0]
                ]) : ae[b1(0x1f4)]([
                    -af[0x1],
                    af[0x0]
                ]);
        }), this['shape'] = ae;
    }
}
class ad {
    constructor() {
        const b2 = aI;
        this['i'] = 0x0, this['q'] = 0x0, this['p'] = 0x0, this[b2(0x1f9)] = this['v'](this['p']), this[b2(0x202)] = 0x0, this['k'] = null, this['o'] = [], this['w'] = [], this['z'](), this['h'] = 0x0, this[b2(0x221)] = [];
        for (let ae = 0x0; ae < a0; ae++) {
            this[b2(0x221)][b2(0x1f4)]([]);
            for (let af = 0x0; af < Z; af++) {
                this[b2(0x221)][ae][b2(0x1f4)](null);
            }
        }
        for (let ag = 0x0; ag < 0x5; ag++) {
            this['A']();
        }
        this['B']();
    }
    ['e'](ae) {
        const b3 = aI;
        this['p'] += ae, this[b3(0x1f9)] = this['v'](this['p']);
    }
    ['v'](ae) {
        const b4 = aI;
        let af = 0x0;
        const ag = ae[b4(0x1e7)]();
        for (let ah = 0x0; ah < ag['length']; ah++) {
            af ^= ag[b4(0x209)](ah);
        }
        return af;
    }
    ['j']() {
        const b5 = aI, ae = this['v'](this['p']);
        ae !== this[b5(0x1f9)] && (console[b5(0x1bf)](b5(0x21e)), this[b5(0x202)] = 0x3);
    }
    ['z']() {
        const b6 = aI;
        let ae = 0x2;
        for (let af = 0x0; af < a9['length'] * ae; af++) {
            this['w'][b6(0x1f4)](af % a9[b6(0x1bd)]);
        }
    }
    ['A']() {
        const b7 = aI;
        this['w'][b7(0x1bd)] == 0x0 && this['z']();
        let ae = this['w'][b7(0x216)](Math[b7(0x229)](this['w'][b7(0x1bd)] * Math[b7(0x1fd)]()), 0x1);
        this['o'][b7(0x1f4)](new ac(0x5, 0x0, ae));
    }
    ['B']() {
        const b8 = aI;
        let ae = this['o'][b8(0x1ff)]();
        this['k'] = ae, this['A'](), this['n']() && (this[b8(0x202)] = 0x3, this['k'] = null, I());
    }
    ['g'](ae) {
        (ae == -0x1 || ae == 0x1) && (this['k']['x'] = this['k']['x'] + ae, a1['n']() && (a1['k']['x'] = this['k']['x'] - ae));
    }
    ['f']() {
        this['k']['y'] = this['k']['y'] + 0x1;
        if (this['n']())
            return this['k']['y'] = this['k']['y'] - 0x1, this['C'](), !![];
        return ![];
    }
    ['d']() {
        let ae = ![];
        while (!ae) {
            ae = this['f'](), this['e'](0x1);
        }
        this['e'](-0x1);
    }
    ['c']() {
        const b9 = aI;
        let ae = this['k'][b9(0x226)];
        this['k'][b9(0x1e1)](), this['n']() && (this['k']['x']++, this['n']() && (this['k']['x']--, this['k']['x']--, this['n']() && (this['k'][b9(0x226)] = ae, this['k']['x']++)));
    }
    ['C']() {
        const ba = aI;
        this['k']['m']()[ba(0x205)](ae => {
            const bb = ba;
            ae[0x1] >= 0x0 && ae[0x0] >= 0x0 && (this[bb(0x221)][ae[0x1]][ae[0x0]] = this['k'][bb(0x20b)]);
        }), this['B'](), this['D']();
    }
    ['n']() {
        const bc = aI;
        let ae = ![];
        return this['k']['m']()[bc(0x205)](af => {
            const bd = bc;
            if (af[0x1] >= 0x0)
                (af[0x1] > a0 - 0x1 || af[0x0] < 0x0 || af[0x0] > Z - 0x1 || this[bd(0x221)][af[0x1]][af[0x0]] != null) && (ae = !![]);
            else
                af[0x1] < 0x0 && ((af[0x1] > a0 - 0x1 || af[0x0] < 0x0 || af[0x0] > Z - 0x1) && (ae = !![]));
        }), ae;
    }
    ['D']() {
        const be = aI;
        let ae = 0x0;
        for (let ag = 0x0; ag < this['grid']['length']; ag++) {
            const ah = this['grid'][ag];
            let ai = 0x0;
            for (let aj = 0x0; aj < ah['length']; aj++) {
                const ak = ah[aj];
                ak === null && ai++;
            }
            if (ai === 0x0) {
                ae++;
                for (let al = ag; al > 0x1; al--) {
                    for (let am = 0x0; am < Z; am++) {
                        this[be(0x221)][al][am] = this[be(0x221)][al - 0x1][am];
                    }
                }
            }
        }
        let af = 0x0;
        if (ae == 0x1)
            af = 0x28 * (this['i'] + 0x1);
        else {
            if (ae == 0x2)
                af = 0x64 * (this['i'] + 0x1);
            else {
                if (ae == 0x3)
                    af = 0x12c * (this['i'] + 0x1);
                else
                    ae == 0x4 && (af = 0x4b0 * (this['i'] + 0x1));
            }
        }
        this['e'](af), this['q'] = this['q'] + ae, this['q'] >= 0xa && (this['i']++, this['q'] = 0x0);
    }
}